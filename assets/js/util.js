!function(a){a.fn.navList=function(){var t=a(this);return $a=t.find("a"),b=[],$a.each(function(){var t=a(this),e=Math.max(0,t.parents("li").length-1),o=t.attr("href"),i=t.attr("target");b.push('<a class="link depth-'+e+'"'+(void 0!==i&&""!=i?' target="'+i+'"':"")+(void 0!==o&&""!=o?' href="'+o+'"':"")+'><span class="indent-'+e+'"></span>'+t.text()+"</a>")}),b.join("")},a.fn.panel=function(t){if(0==this.length)return r;if(1<this.length){for(var e=0;e<this.length;e++)a(this[e]).panel(t);return r}var r=a(this),o=a("body"),i=a(window),n=r.attr("id"),l=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:r,visibleClass:"visible"},t);return"jQuery"!=typeof l.target&&(l.target=a(l.target)),r._hide=function(t){l.target.hasClass(l.visibleClass)&&(t&&(t.preventDefault(),t.stopPropagation()),l.target.removeClass(l.visibleClass),window.setTimeout(function(){l.resetScroll&&r.scrollTop(0),l.resetForms&&r.find("form").each(function(){this.reset()})},l.delay))},r.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),l.hideOnClick&&(r.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),r.on("click","a",function(t){var e=a(this),o=e.attr("href"),i=e.attr("target");o&&"#"!=o&&""!=o&&o!="#"+n&&(t.preventDefault(),t.stopPropagation(),r._hide(),window.setTimeout(function(){"_blank"==i?window.open(o):window.location.href=o},l.delay+10))})),r.on("touchstart",function(t){r.touchPosX=t.originalEvent.touches[0].pageX,r.touchPosY=t.originalEvent.touches[0].pageY}),r.on("touchmove",function(t){if(null!==r.touchPosX&&null!==r.touchPosY){var e=r.touchPosX-t.originalEvent.touches[0].pageX,o=r.touchPosY-t.originalEvent.touches[0].pageY,i=r.outerHeight(),n=r.get(0).scrollHeight-r.scrollTop();if(l.hideOnSwipe){var a=!1,s=20;switch(l.side){case"left":a=o<s&&-20<o&&50<e;break;case"right":a=o<s&&-20<o&&e<-50;break;case"top":a=e<s&&-20<e&&50<o;break;case"bottom":a=e<s&&-20<e&&o<-50}if(a)return r.touchPosX=null,r.touchPosY=null,r._hide(),!1}(r.scrollTop()<0&&o<0||i-2<n&&n<i+2&&0<o)&&(t.preventDefault(),t.stopPropagation())}}),r.on("click touchend touchstart touchmove",function(t){t.stopPropagation()}),r.on("click",'a[href="#'+n+'"]',function(t){t.preventDefault(),t.stopPropagation(),l.target.removeClass(l.visibleClass)}),o.on("click touchend",function(t){r._hide(t)}),o.on("click",'a[href="#'+n+'"]',function(t){t.preventDefault(),t.stopPropagation(),l.target.toggleClass(l.visibleClass)}),l.hideOnEscape&&i.on("keydown",function(t){27==t.keyCode&&r._hide(t)}),r}}(jQuery);